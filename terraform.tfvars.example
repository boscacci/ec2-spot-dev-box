# Copy to terraform.tfvars and fill in:
#   cp terraform.tfvars.example terraform.tfvars

aws_region        = "us-west-2"
availability_zone = "us-west-2a"

# Pick a flavor: small | medium | large | xl
#   small  = t3.large    (2 vCPU,  8 GB) — cheap dev
#   medium = m7i.xlarge   (4 vCPU, 16 GB) — general purpose
#   large  = r7i.xlarge   (4 vCPU, 32 GB) — memory heavy
#   xl     = r7i.2xlarge  (8 vCPU, 64 GB) — the big one
flavor = "large"

# Max spot bid (empty string = up to on-demand price)
spot_max_price = ""

# Persistent data volume
ebs_size_gb    = 96
ebs_volume_type = "gp3"

# SSH key pair
# Recommended: let Terraform manage it from a local public key.
key_name = "dev-box"
ssh_public_key_path = "/home/rob/.ssh/dev-box.pem.pub"

# SSH ingress
# You asked for no CIDR restrictions (SSH key is the security):
allowed_ssh_cidrs = ["0.0.0.0/0"]

# Stable SSH endpoint for phone clients (recommended)
enable_eip = true

instance_name = "dev-box"

# Networking
# Some AWS accounts have no default VPC (or none at all). If so, enable:
# create_vpc = true
# Optionally override CIDRs:
# vpc_cidr = "10.42.0.0/16"
# public_subnet_cidr = "10.42.0.0/24"

# Claude Code / Gastown auth
# The instance will read this secret via its IAM role and export:
#   ANTHROPIC_API_KEY (and CLAUDE_API_KEY for convenience)
claude_api_key_secret_id = "CLAUDE_API_KEY"
claude_secret_region = "us-west-2"
enable_claude_api_key_from_secrets_manager = true
